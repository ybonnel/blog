<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    
    <title>JustAnOtherDevBlog - Server Sent Events, et côté client?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="JustAnOtherDevBlog : Server Sent Events, et côté client?">
    <meta property="og:title" content="JustAnOtherDevBlog - Server Sent Events, et côté client?" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="http://www.ybonnel.fr/img/JustAnOtherDevBlog.png" />
    <meta property="og:url" content="http://www.ybonnel.fr" />
    <meta property="og:description" content="JustAnOtherDevBlog : Server Sent Events, et côté client?" />
    <meta property="og:locale" content="fr_FR" />
    <meta property="og:site_name" content="JustAnOtherDevBlog" />

    <!-- Le styles -->
    <link href="../../css/yeti/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/asciidoctor.css" rel="stylesheet">
    <!-- link href="/css/bootstrap-theme.min.css" rel="stylesheet" -->
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.1.0/css/font-awesome.min.css">
    <link href='http://alexgorbatchev.com/pub/sh/3.0.83/styles/shCore.css' rel='stylesheet' type='text/css'/>
    <link href='http://alexgorbatchev.com/pub/sh/3.0.83/styles/shThemeDefault.css' rel='stylesheet' type='text/css'/>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../../favicon.ico">
  </head>
  <body>
    <div id="wrap">

	
	      <!-- Fixed navbar -->
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../index.html">JustAnOtherDevBlog</a>
          </div>
          <div class="collapse navbar-collapse" id="navbar-menu">
            <ul class="nav navbar-nav">
              <li><a href="https://github.com/ybonnel" target="github:ybonnel">Github</a></li>
              <li><a href="../../archive.html">Archives</a></li>
              <li><a href="../../feeds/posts/default.xml">Flux RSS</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
      <div class="container">

	
	<div class="page-header">
        <div class="row">
            <div class="col-xs-4 col-md-2"><img src="../../img/JustAnOtherDevBlog.png"></div>
            <div class="col-xs-12 col-md-8"><h1>Server Sent Events, et côté client?</h1></div>
        </div>
	</div>

    <div class="row">

        <div class="col-sm-8" itemscope itemtype="http://schema.org/Blog">

        <p>
            <em>
                <time itemprop="datePublished"
                      datetime="2014-06-05">
                    05 juin 2014
                </time>
            </em>
        </p>

        <meta itemprop="name" content="Server Sent Events, et côté client?"/>

        <div itemprop="author" itemscope itemtype="http://schema.org/Person">
            <meta itemprop="name" content="Yan Bonnel"/>
        </div>
        <meta itemprop="inLanguage" content="fr-FR"/>
        <meta itemprop="url" content="http://www.ybonnel.fr/2014/06/server-sent-events-et-cote-client.html"/>
        <meta itemprop="discussionUrl" content="http://www.ybonnel.fr/2014/06/server-sent-events-et-cote-client.html#disqus_thread"/>



        <p>Tags :
        <meta itemprop="keywords" content="EventSource,javascript,Server-Sent-Events,SSE"/>
        <a href="../../tags/EventSource.html">EventSource</a>, <a href="../../tags/javascript.html">javascript</a>, <a href="../../tags/Server-Sent-Events.html">Server-Sent-Events</a>, <a href="../../tags/SSE.html">SSE</a>
        </p>

        <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.ybonnel.fr/2014/06/server-sent-events-et-cote-client.html" data-via="ybonnel" data-text="Server Sent Events, et côté client?" data-lang="fr">Tweeter</a>
        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        <div class="g-plusone" data-size="medium" data-href="http://www.ybonnel.fr/2014/06/server-sent-events-et-cote-client.html"></div>

        <div itemprop="blogPost">
        <p><p>Aujourd'hui, je vais vous parler de Server Sent Events côté client javascript.</p> <p>Nous allons reprendre le serveur qui envoyait l'heure toutes les secondes codé <a href="http://www.ybonnel.fr/2014/06/server-sent-events-avec-simpleweb4j.html">ici</a>.<p> <p>L'utilisation d'un flux Server Sent Event se fait par l'intermédiaire de l'objet "EventSource" qui prend comme paramètre dans le constructeur l'url du flux. Cet objet possède une fonction "addEventListener" qui prend en paramètres le type de listener (message pour la réception de nouvelles données) ainsi que la callback.</p><p>Si vous êtes comme moi et que vous utilisez angular.js un peu partout, vous savez comment il peut s'avérer complexe de s'intégrer dans son dual binding, mais la méthode $scope.$apply est là pour ça!</p> <p>Voici donc le résultat final :</p><script src="https://gist.github.com/ybonnel/e385ac59e4cf00ebd2f7.js"></script> <br/><p>Et voilà, c'est pas bien compliqué de faire du temps réel :)</p><p>Petit précision, EventSource n'est pas supporté par IE, mais il existe un contournement : <a href="https://github.com/Yaffle/EventSource/">github.com/Yaffle/EventSource</a></p>
</p>
        </div>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = 'ybonnel';
            var disqus_identifier = 'server-sent-events-et-cote-client';
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
    </div>

    <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
        <div class="sidebar-module sidebar-module-inset">
            <h4>Yan Bonnel</h4>
            <p>Geek. Technos de prédilections : Java, Android, Git.</p>
        </div>

        <div class="sidebar-module">
            <h4>Tags</h4>
            <ol class="list-unstyled" style="margin-left: 0px">
                

                <li><a href="../../tags/Java.html">Java</a> (15)</li>
                

                <li><a href="../../tags/java8.html">java8</a> (6)</li>
                

                <li><a href="../../tags/SimpleWeb4j.html">SimpleWeb4j</a> (6)</li>
                

                <li><a href="../../tags/CodeStory.html">CodeStory</a> (5)</li>
                

                <li><a href="../../tags/Devoxx.html">Devoxx</a> (5)</li>
                

                <li><a href="../../tags/EventSource.html">EventSource</a> (4)</li>
                

                <li><a href="../../tags/Server-Sent-Events.html">Server-Sent-Events</a> (4)</li>
                

                <li><a href="../../tags/SSE.html">SSE</a> (4)</li>
                

                <li><a href="../../tags/CSV.html">CSV</a> (3)</li>
                

                <li><a href="../../tags/Jetty.html">Jetty</a> (3)</li>
                

                <li><a href="../../tags/simple.html">simple</a> (3)</li>
                

                <li><a href="../../tags/Android.html">Android</a> (2)</li>
                

                <li><a href="../../tags/blogger.html">blogger</a> (2)</li>
                

                <li><a href="../../tags/github.html">github</a> (2)</li>
                

                <li><a href="../../tags/javascript.html">javascript</a> (2)</li>
                

                <li><a href="../../tags/jbake.html">jbake</a> (2)</li>
                

                <li><a href="../../tags/Logo.html">Logo</a> (2)</li>
                

                <li><a href="../../tags/Rennes.html">Rennes</a> (2)</li>
                

                <li><a href="../../tags/TDD.html">TDD</a> (2)</li>
                

                <li><a href="../../tags/websocket.html">websocket</a> (2)</li>
                

                <li><a href="../../tags/Assertj.html">Assertj</a> (1)</li>
                

                <li><a href="../../tags/auto-hébergement.html">auto-hébergement</a> (1)</li>
                

                <li><a href="../../tags/Awaitility.html">Awaitility</a> (1)</li>
                

                <li><a href="../../tags/cloud.html">cloud</a> (1)</li>
                

                <li><a href="../../tags/Comparatif.html">Comparatif</a> (1)</li>
                

                <li><a href="../../tags/couchbase.html">couchbase</a> (1)</li>
                

                <li><a href="../../tags/CsvEngine.html">CsvEngine</a> (1)</li>
                

                <li><a href="../../tags/ExecutorService.html">ExecutorService</a> (1)</li>
                

                <li><a href="../../tags/git.html">git</a> (1)</li>
                

                <li><a href="../../tags/Google.html">Google</a> (1)</li>
                

                <li><a href="../../tags/Groovy.html">Groovy</a> (1)</li>
                

                <li><a href="../../tags/Jajascript.html">Jajascript</a> (1)</li>
                

                <li><a href="../../tags/JEE.html">JEE</a> (1)</li>
                

                <li><a href="../../tags/json.html">json</a> (1)</li>
                

                <li><a href="../../tags/NoMock.html">NoMock</a> (1)</li>
                

                <li><a href="../../tags/OneDay.html">OneDay</a> (1)</li>
                

                <li><a href="../../tags/OnePost.html">OnePost</a> (1)</li>
                

                <li><a href="../../tags/reactive.html">reactive</a> (1)</li>
                

                <li><a href="../../tags/REST.html">REST</a> (1)</li>
                

                <li><a href="../../tags/Scalaskel.html">Scalaskel</a> (1)</li>
                
            </ol>
        </div>
    </div>
	
		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="text-muted credit">L'ensemble des posts de ce blog sont publiés sous licence <em>Creative Commons by-nc-sa</em>. <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"/></a></p>
        <p class="text-muted credit">&copy; 2013 | Mixed with <a href="http://twitter.github.com/bootstrap/">Bootstrap v3.0.2</a> | Baked with <a href="http://jbake.org">JBake v2.3.0</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- script src="/js/jquery-1.10.2.min.js"></script -->
    <!-- script src="/js/bootstrap.min.js"></script -->
    <script src="../../js/run_prettify.js"></script>

    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shCore.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushCss.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushJava.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushJScript.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushSql.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushVb.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushXml.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushBash.js' type='text/javascript'></script>


    <script language='javascript'>
        SyntaxHighlighter.config.bloggerMode = true;
        SyntaxHighlighter.all();
    </script>


    <script type="text/javascript">
        window.___gcfg = {lang: 'fr'};

        (function() {
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
            po.src = 'https://apis.google.com/js/platform.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
    </script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-28563381-1', 'www.ybonnel.fr');
      ga('send', 'pageview');

    </script>
    
  </body>
</html>

