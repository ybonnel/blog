title=Services REST avec SimpleWeb4J
date=2014-05-30
type=post
tags=Java,json,REST,SimpleWeb4j
status=published
id=services-rest-avec-simpleweb4j
~~~~~~
<p>Cet article est le deuxième article de la série sur <a href="http://www.ybonnel.fr/search/label/SimpleWeb4j">SimpleWeb4j</a></p> <p>Dans le <a href="http://www.ybonnel.fr/2014/05/simpleweb4j-quick-start.html">première article</a> on a vu comment démarrer SimpleWeb4j en une ligne de code, dans l'article d'aujourd'hui, nous allors voir comment exposer des services REST en json.</p> <h2>Premiers cas : exposer une String "Hello World"</h2> <p>J'espère que le code est suffisamment simple pour ne pas avoir besoin d'explication.</p> <script src="https://gist.github.com/ybonnel/bf0f34483d47d5ca8966.js"></script> <p>On peux voir qu le résultat est entouré de guillemets, ceci est du au fait que SimpleWeb4j transforme la chaîne de caractère en json.</p> <br/> <h2>Deuxième cas : utilisation d'une variable de route</h2> <script src="https://gist.github.com/ybonnel/b7b50206951e056a5403.js"></script> <p>Cet exemple mérite peut-être un peu plus d'explications. SimpleWeb4j permet d'ajouter des paramètres à la route, ces paramètres sont préfixés de ':'. Pour les récupérer on utilise le paramètre RouteParameters qui est le deuxième argument de notre lambda. Le premier argument quand à lui contient l'objet envoyé dans le request body de la requête, nous ne l'utilisons donc pas.</p> <br/> <h2>Troisième cas : objet complexe</h2> <p>Nous avons vu que renvoyer une chaîne de caractère était plutôt simple, voyons maintenant comment renvoyer un objet plus complexe.</p> <script src="https://gist.github.com/ybonnel/9116ffb1ef033e66af68.js"></script> <p>On peut donc voir que renvoyer un objet n'est pas plus compliqué, SimpleWeb4j s'occupe de transformer celui-ci en json</p> <br/><br/> <p>J'espère vous avoir donner envie de regarder SimpleWeb4j de plus près, si quelque chose vous manque, n'hésitez pas à le dire ou à faire une pull request sur <a href="https://github.com/ybonnel/SimpleWeb4j">github</a>.</p>
