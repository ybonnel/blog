<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    
    <title>JustAnOtherDevBlog - reactive</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="JustAnOtherDevBlog : reactive">
    <meta name="og:title" content="JustAnOtherDevBlog - reactive">
    <meta name="og:type" content="website">
    <meta name="og:image" content="http://www.ybonnel.fr/img/JustAnOtherDevBlog.png">
    <meta name="og:url" content="http://www.ybonnel.fr/tags/reactive.html">
    <meta name="og:description" content="JustAnOtherDevBlog : reactive">
    <meta name="og:locale" content="fr_FR">
    <meta name="og:site_name" content="JustAnOtherDevBlog">

    <!-- Le styles -->
    <link href="../css/yeti/bootstrap.min.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/asciidoctor.css" rel="stylesheet">
    <!-- link href="/css/bootstrap-theme.min.css" rel="stylesheet" -->
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.1.0/css/font-awesome.min.css">
    <link href='http://alexgorbatchev.com/pub/sh/3.0.83/styles/shCore.css' rel='stylesheet' type='text/css'/>
    <link href='http://alexgorbatchev.com/pub/sh/3.0.83/styles/shThemeDefault.css' rel='stylesheet' type='text/css'/>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../favicon.ico">
  </head>
  <body>
    <div id="wrap">

	
	      <!-- Fixed navbar -->
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../index.html">JustAnOtherDevBlog</a>
          </div>
          <div class="collapse navbar-collapse" id="navbar-menu">
            <ul class="nav navbar-nav">
              <li><a href="https://github.com/ybonnel" target="github:ybonnel">Github</a></li>
              <li><a href="../archive.html">Archives</a></li>
              <li><a href="../feeds/posts/default.xml">Flux RSS</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
      <div class="container">


	<div class="page-header">
            <div class="row">
                <div class="col-xs-4 col-md-2"><img src="../img/JustAnOtherDevBlog.png"></div>
                <div class="col-xs-12 col-md-8"><h1>Tag: reactive</h1></div>
            </div>
	</div>

    <div class="row">

    <div class="col-sm-8">
        
            
                <a href="../2014/06/server-sent-events-reactifs-avec.html"><h1>Server Sent Events réactifs avec SimpleWeb4j</h1></a>
                <p>04 juin 2014</p>

                <p>Tags :
                <a href="EventSource.html">EventSource</a>, <a href="java8.html">java8</a>, <a href="reactive.html">reactive</a>, <a href="Server-Sent-Events.html">Server-Sent-Events</a>, <a href="SimpleWeb4j.html">SimpleWeb4j</a>, <a href="SSE.html">SSE</a>
                </p>

                <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.ybonnel.fr/2014/06/server-sent-events-reactifs-avec.html" data-text="Server Sent Events réactifs avec SimpleWeb4j" data-via="ybonnel" data-lang="fr">Tweeter</a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="g-plusone" data-size="medium" data-href="http://www.ybonnel.fr/2014/06/server-sent-events-reactifs-avec.html"></div>

                <p><p>Nous avons vu <a href="http://www.ybonnel.fr/2014/06/server-sent-events-avec-simpleweb4j.html">hier</a> un exemple simple de Server Sent Events avec SimpleWeb4j, passons maintenant à plus complexe, un exemple dit "réactif", ce n'est pas le flux qui demande la valeur suivante, mais bien un "service" extérieure qui déclenche l'envoi à tous les flux ouverts.</p> <p>Pour l'exemple, nous allons créer trois générateurs d'événements, avec chacun un délai aléatoire entre les événements.</p><p>Nous allons donc tout d'abord créer une classe "Event", cette classe contient un nom, une valeur et l'heure de création. La valeur est créée de manière aléatoire.</p><p>Nous allons ensuite créer un générateur, qui est un Runnable infini, et envoi des événements aux handlers SimpleWeb4j.</p><p>Un handler SimpleWeb4j est une classe fournie par SimpleWeb4j qui contient une méthode "next" permettant d'envoyer les événements. Nous stockerons ces handlers dans un ConcurrentHashSet pour pouvoir tous les adresser (et pas seulement le dernier flux créé.</p><p>Une fois tous ces composants créés, il suffit de déclarer la route, voici donc le résultat final :</p><script src="https://gist.github.com/ybonnel/8f17b95b7c646f35b674.js"></script><br/><p>J'espère vous avoir montré l'intérêt de SimpleWeb4j sur ce cas beaucoup moins simple que le précédent.</p><p>Si le sujet vous intéresse, vous pouvez regarder ma présentation donnée au <a href="http://www.breizhcamp.org">Breizhcamp</a> sur <a href="http://www.parleys.com/play/538c8865e4b0a38a46cbec9e">parleys</a> :</p><iframe type="text/html" width="420" height="290" mozallowfullscreen="true" webkitallowfullscreen="true" src="http://www.parleys.com/share.html#play/538c8865e4b0a38a46cbec9e" frameborder="0">&lt;br /&gt;</iframe>
</p>
                <p><a href="2014/06/server-sent-events-reactifs-avec.html#disqus_thread">Commentaires</a></p>
            

        

    </div>

    <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
        <div class="sidebar-module sidebar-module-inset">
            <h4>Yan Bonnel</h4>
            <p>Geek. Technos de prédilections : Java, Android, Git.</p>
        </div>


        <div class="sidebar-module">
            <h4>Tags</h4>
            <ol class="list-unstyled" style="margin-left: 0px">
                

                <li><a href="Java.html">Java</a> (15)</li>
                

                <li><a href="java8.html">java8</a> (6)</li>
                

                <li><a href="SimpleWeb4j.html">SimpleWeb4j</a> (6)</li>
                

                <li><a href="CodeStory.html">CodeStory</a> (5)</li>
                

                <li><a href="Devoxx.html">Devoxx</a> (5)</li>
                

                <li><a href="EventSource.html">EventSource</a> (4)</li>
                

                <li><a href="Server-Sent-Events.html">Server-Sent-Events</a> (4)</li>
                

                <li><a href="SSE.html">SSE</a> (4)</li>
                

                <li><a href="CSV.html">CSV</a> (3)</li>
                

                <li><a href="Jetty.html">Jetty</a> (3)</li>
                

                <li><a href="simple.html">simple</a> (3)</li>
                

                <li><a href="Android.html">Android</a> (2)</li>
                

                <li><a href="javascript.html">javascript</a> (2)</li>
                

                <li><a href="Logo.html">Logo</a> (2)</li>
                

                <li><a href="Rennes.html">Rennes</a> (2)</li>
                

                <li><a href="TDD.html">TDD</a> (2)</li>
                

                <li><a href="websocket.html">websocket</a> (2)</li>
                

                <li><a href="Assertj.html">Assertj</a> (1)</li>
                

                <li><a href="auto-hébergement.html">auto-hébergement</a> (1)</li>
                

                <li><a href="Awaitility.html">Awaitility</a> (1)</li>
                

                <li><a href="blogger.html">blogger</a> (1)</li>
                

                <li><a href="cloud.html">cloud</a> (1)</li>
                

                <li><a href="Comparatif.html">Comparatif</a> (1)</li>
                

                <li><a href="couchbase.html">couchbase</a> (1)</li>
                

                <li><a href="CsvEngine.html">CsvEngine</a> (1)</li>
                

                <li><a href="ExecutorService.html">ExecutorService</a> (1)</li>
                

                <li><a href="git.html">git</a> (1)</li>
                

                <li><a href="github.html">github</a> (1)</li>
                

                <li><a href="Google.html">Google</a> (1)</li>
                

                <li><a href="Groovy.html">Groovy</a> (1)</li>
                

                <li><a href="Jajascript.html">Jajascript</a> (1)</li>
                

                <li><a href="jbake.html">jbake</a> (1)</li>
                

                <li><a href="JEE.html">JEE</a> (1)</li>
                

                <li><a href="json.html">json</a> (1)</li>
                

                <li><a href="NoMock.html">NoMock</a> (1)</li>
                

                <li><a href="OneDay.html">OneDay</a> (1)</li>
                

                <li><a href="OnePost.html">OnePost</a> (1)</li>
                

                <li><a href="reactive.html">reactive</a> (1)</li>
                

                <li><a href="REST.html">REST</a> (1)</li>
                

                <li><a href="Scalaskel.html">Scalaskel</a> (1)</li>
                
            </ol>
        </div>
    </div>

    </div>

		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="text-muted credit">L'ensemble des posts de ce blog sont publiés sous licence <em>Creative Commons by-nc-sa</em>. <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"/></a></p>
        <p class="text-muted credit">&copy; 2013 | Mixed with <a href="http://twitter.github.com/bootstrap/">Bootstrap v3.0.2</a> | Baked with <a href="http://jbake.org">JBake v2.3.0</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- script src="/js/jquery-1.10.2.min.js"></script -->
    <!-- script src="/js/bootstrap.min.js"></script -->
    <script src="../js/run_prettify.js"></script>

    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shCore.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushCss.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushJava.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushJScript.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushSql.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushVb.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushXml.js' type='text/javascript'></script>
    <script src='http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shBrushBash.js' type='text/javascript'></script>


    <script language='javascript'>
        SyntaxHighlighter.config.bloggerMode = true;
        SyntaxHighlighter.all();
    </script>


    <script type="text/javascript">
        window.___gcfg = {lang: 'fr'};

        (function() {
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
            po.src = 'https://apis.google.com/js/platform.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
    </script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-28563381-1', 'www.ybonnel.fr');
      ga('send', 'pageview');

    </script>
    
  </body>
</html>

